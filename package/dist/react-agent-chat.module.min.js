import e,{useState as t,useRef as a,useEffect as l}from"react";var n=function(){return n=Object.assign||function(e){for(var t,a=1,l=arguments.length;a<l;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},n.apply(this,arguments)},s="styles-module_rca_loading_dots__kPJAp",r="styles-module_rca_loading_dot__8xuYH",o="styles-module_rca_close_button__YgLdB",c=function(t){var a=t.examples,l=t.examplesTitle,n=t.onClick,s=t.classes;return e.createElement("div",{className:s.examplesWrapper},e.createElement("div",{className:s.examplesTitle},l),e.createElement("div",{className:s.examples},a.map((function(t,a){return e.createElement("div",{key:a,className:s.exampleItem,onClick:function(){return function(e){n&&n(e)}(t)},"aria-label":"Try an example question"},"“",t.text,"” →")}))))},i=function(){return e.createElement("div",{className:s},e.createElement("div",{className:r}),e.createElement("div",{className:r}),e.createElement("div",{className:r}))},m=function(t){var a=t.onClick;return e.createElement("div",{className:o,onClick:a},"✕")},u={wrapper:"styles-module_rca_wrapper__c0nob",dialog:"styles-module_rca_dialog__XJ6YK",dialogItem:"styles-module_rca_dialog_item__EEgIC",dialogItemQuestion:"styles-module_rca_dialog_item_question__M-4q4",dialogItemAnswer:"styles-module_rca_dialog_item_answer__vWW2n",actionBar:"styles-module_rca_action_bar__7-Qir",input:"styles-module_rca_input__11nD3",submit:"styles-module_rca_submit__Iohz8",examplesWrapper:"styles-module_rca_examples_wrapper__pbfpF",examplesTitle:"styles-module_rca_examples_title__XJyv2",examples:"styles-module_rca_examples__kZOvY",exampleItem:"styles-module_rca_example_item__zFI0r",closedChat:"styles-module_rca_closed_chat__UeyRV",closedChatWrapper:"styles-module_rca_closed_chat_wrapper__etcU7",closeBtn:o},_=function(s){var r=s.submitBtnText,o=void 0===r?"Send":r,_=s.examples,d=void 0===_?[{text:"Who won the Eurovision Song Contest in 2022"}]:_,p=s.examplesTitle,v=void 0===p?"Examples":p,x=s.inputText,f=s.classes,g=void 0===f?n({},u):f,y=s.onSubmit,E=void 0===y?function(e){}:y,h=s.placeholder,N=void 0===h?"Send a message ...":h,b=s.receivedMessage,I=s.startsOpen,w=void 0!==I&&I,C=s.alwaysOpen,T=void 0===C||C,k=s.ChatIcon,O=s.fixedPosition,A=t([]),W=A[0],q=A[1],D=t(w),S=D[0],B=D[1],L=t(""),G=L[0],Y=L[1],F=a(null);l((function(){if(b){var e=W.findIndex((function(e){return"LOADING"===e.answer}));if(-1!==e){var t=W.slice();t[e].answer=b,q(t)}F.current&&F.current.scrollTo(0,F.current.scrollHeight)}}),[b]);return S||T?e.createElement("div",{className:g.wrapper,style:O?{position:O?"fixed":"unset",bottom:"24px",right:"24px"}:{}},!T&&e.createElement(m,{onClick:function(){return B(!1)}}),e.createElement("div",{ref:F,className:g.dialog},0===W.length&&d.length>0&&e.createElement(c,{examples:d,examplesTitle:v,onClick:function(e){q(W.concat([{question:e.text,answer:"LOADING"}])),E&&E(e.text)},classes:g}),W.map((function(t,a){return e.createElement("div",{key:a,className:g.dialogItem},e.createElement("div",{className:g.dialogItemQuestion},t.question),e.createElement("div",{className:g.dialogItemAnswer},"LOADING"===t.answer?e.createElement(i,null):t.answer))}))),e.createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.promptInput.value;q(W.concat([{question:t,answer:"LOADING"}])),E&&E(t),F.current&&F.current.scrollTo(0,F.current.scrollHeight),e.currentTarget.reset()}},e.createElement("div",{className:g.actionBar},e.createElement("input",{placeholder:N,type:"text",id:"promptInput",className:g.input,value:x,"aria-label":"Chat input",onChange:function(e){return Y(e.target.value)},onFocus:function(e){return e.target.select()}}),e.createElement("button",{type:"submit","aria-label":"Send message",disabled:""===G,className:g.submit},o)))):e.createElement("div",{className:g.closedChatWrapper,style:O?{position:O?"fixed":"unset",bottom:"24px",right:"24px"}:{}},e.createElement("a",{className:g.closedChat,onClick:function(){return B(!0)}},k||""))};export{_ as default,u as standardClasses};
