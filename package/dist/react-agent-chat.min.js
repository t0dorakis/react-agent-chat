!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["react-agent-chat"]=e["react-agent-chat"]||{},e.React)}(this,(function(e,t){"use strict";var a=function(){return a=Object.assign||function(e){for(var t,a=1,l=arguments.length;a<l;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},a.apply(this,arguments)},l="styles-module_rca_loading_dots__kPJAp",n="styles-module_rca_loading_dot__8xuYH",s="styles-module_rca_close_button__YgLdB",r=function(e){var a=e.examples,l=e.examplesTitle,n=e.onClick,s=e.classes;return t.createElement("div",{className:s.examplesWrapper},t.createElement("div",{className:s.examplesTitle},l),t.createElement("div",{className:s.examples},a.map((function(e,a){return t.createElement("div",{key:a,className:s.exampleItem,onClick:function(){return function(e){n&&n(e)}(e)},"aria-label":"Try an example question"},"“",e.text,"” →")}))))},o=function(){return t.createElement("div",{className:l},t.createElement("div",{className:n}),t.createElement("div",{className:n}),t.createElement("div",{className:n}))},c=function(e){var a=e.onClick;return t.createElement("div",{className:s,onClick:a},"✕")},i={wrapper:"styles-module_rca_wrapper__c0nob",dialog:"styles-module_rca_dialog__XJ6YK",dialogItem:"styles-module_rca_dialog_item__EEgIC",dialogItemQuestion:"styles-module_rca_dialog_item_question__M-4q4",dialogItemAnswer:"styles-module_rca_dialog_item_answer__vWW2n",actionBar:"styles-module_rca_action_bar__7-Qir",input:"styles-module_rca_input__11nD3",submit:"styles-module_rca_submit__Iohz8",examplesWrapper:"styles-module_rca_examples_wrapper__pbfpF",examplesTitle:"styles-module_rca_examples_title__XJyv2",examples:"styles-module_rca_examples__kZOvY",exampleItem:"styles-module_rca_example_item__zFI0r",closedChat:"styles-module_rca_closed_chat__UeyRV",closedChatWrapper:"styles-module_rca_closed_chat_wrapper__etcU7",closeBtn:s};e.default=function(e){var l=e.submitBtnText,n=void 0===l?"Send":l,s=e.examples,m=void 0===s?[{text:"Who won the Eurovision Song Contest in 2022"}]:s,u=e.examplesTitle,d=void 0===u?"Examples":u,_=e.inputText,p=e.classes,f=void 0===p?a({},i):p,v=e.onSubmit,x=void 0===v?function(e){}:v,g=e.placeholder,y=void 0===g?"Send a message ...":g,h=e.receivedMessage,E=e.startsOpen,b=void 0!==E&&E,N=e.alwaysOpen,I=void 0===N||N,w=e.ChatIcon,C=e.fixedPosition,T=t.useState([]),k=T[0],O=T[1],S=t.useState(b),q=S[0],A=S[1],W=t.useState(""),D=W[0],B=W[1],L=t.useRef(null);t.useEffect((function(){if(h){var e=k.findIndex((function(e){return"LOADING"===e.answer}));if(-1!==e){var t=k.slice();t[e].answer=h,O(t)}L.current&&L.current.scrollTo(0,L.current.scrollHeight)}}),[h]);return q||I?t.createElement("div",{className:f.wrapper,style:C?{position:C?"fixed":"unset",bottom:"24px",right:"24px"}:{}},!I&&t.createElement(c,{onClick:function(){return A(!1)}}),t.createElement("div",{ref:L,className:f.dialog},0===k.length&&m.length>0&&t.createElement(r,{examples:m,examplesTitle:d,onClick:function(e){O(k.concat([{question:e.text,answer:"LOADING"}])),x&&x(e.text)},classes:f}),k.map((function(e,a){return t.createElement("div",{key:a,className:f.dialogItem},t.createElement("div",{className:f.dialogItemQuestion},e.question),t.createElement("div",{className:f.dialogItemAnswer},"LOADING"===e.answer?t.createElement(o,null):e.answer))}))),t.createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.promptInput.value;O(k.concat([{question:t,answer:"LOADING"}])),x&&x(t),L.current&&L.current.scrollTo(0,L.current.scrollHeight),e.currentTarget.reset()}},t.createElement("div",{className:f.actionBar},t.createElement("input",{placeholder:y,type:"text",id:"promptInput",className:f.input,value:_,"aria-label":"Chat input",onChange:function(e){return B(e.target.value)},onFocus:function(e){return e.target.select()}}),t.createElement("button",{type:"submit","aria-label":"Send message",disabled:""===D,className:f.submit},n)))):t.createElement("div",{className:f.closedChatWrapper,style:C?{position:C?"fixed":"unset",bottom:"24px",right:"24px"}:{}},t.createElement("a",{className:f.closedChat,onClick:function(){return A(!0)}},w||""))},e.standardClasses=i,Object.defineProperty(e,"__esModule",{value:!0})}));
