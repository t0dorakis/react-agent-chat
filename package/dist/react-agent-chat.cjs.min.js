"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=function(){return t=Object.assign||function(e){for(var t,a=1,l=arguments.length;a<l;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},t.apply(this,arguments)},a="styles-module_rca_loading_dots__kPJAp",l="styles-module_rca_loading_dot__8xuYH",s="styles-module_rca_close_button__YgLdB",r=function(t){var a=t.examples,l=t.examplesTitle,s=t.onClick,r=t.classes;return e.createElement("div",{className:r.examplesWrapper},e.createElement("div",{className:r.examplesTitle},l),e.createElement("div",{className:r.examples},a.map((function(t,a){return e.createElement("div",{key:a,className:r.exampleItem,onClick:function(){return function(e){s&&s(e)}(t)},"aria-label":"Try an example question"},"“",t.text,"” →")}))))},n=function(){return e.createElement("div",{className:a},e.createElement("div",{className:l}),e.createElement("div",{className:l}),e.createElement("div",{className:l}))},o=function(t){var a=t.onClick;return e.createElement("div",{className:s,onClick:a},"✕")},c={wrapper:"styles-module_rca_wrapper__c0nob",dialog:"styles-module_rca_dialog__XJ6YK",dialogItem:"styles-module_rca_dialog_item__EEgIC",dialogItemQuestion:"styles-module_rca_dialog_item_question__M-4q4",dialogItemAnswer:"styles-module_rca_dialog_item_answer__vWW2n",actionBar:"styles-module_rca_action_bar__7-Qir",input:"styles-module_rca_input__11nD3",submit:"styles-module_rca_submit__Iohz8",examplesWrapper:"styles-module_rca_examples_wrapper__pbfpF",examplesTitle:"styles-module_rca_examples_title__XJyv2",examples:"styles-module_rca_examples__kZOvY",exampleItem:"styles-module_rca_example_item__zFI0r",closedChat:"styles-module_rca_closed_chat__UeyRV",closedChatWrapper:"styles-module_rca_closed_chat_wrapper__etcU7",closeBtn:s};exports.default=function(a){var l=a.submitBtnText,s=void 0===l?"Send":l,i=a.examples,m=void 0===i?[{text:"Who won the Eurovision Song Contest in 2022"}]:i,u=a.examplesTitle,_=void 0===u?"Examples":u,d=a.inputText,p=a.classes,v=void 0===p?t({},c):p,x=a.onSubmit,f=void 0===x?function(e){}:x,g=a.placeholder,y=void 0===g?"Send a message ...":g,E=a.receivedMessage,h=a.startsOpen,N=void 0!==h&&h,b=a.alwaysOpen,I=void 0===b||b,w=a.ChatIcon,C=a.fixedPosition,T=e.useState([]),k=T[0],O=T[1],S=e.useState(N),q=S[0],A=S[1],W=e.useState(""),D=W[0],B=W[1],L=e.useRef(null);e.useEffect((function(){if(E){var e=k.findIndex((function(e){return"LOADING"===e.answer}));if(-1!==e){var t=k.slice();t[e].answer=E,O(t)}L.current&&L.current.scrollTo(0,L.current.scrollHeight)}}),[E]);return q||I?e.createElement("div",{className:v.wrapper,style:C?{position:C?"fixed":"unset",bottom:"24px",right:"24px"}:{}},!I&&e.createElement(o,{onClick:function(){return A(!1)}}),e.createElement("div",{ref:L,className:v.dialog},0===k.length&&m.length>0&&e.createElement(r,{examples:m,examplesTitle:_,onClick:function(e){O(k.concat([{question:e.text,answer:"LOADING"}])),f&&f(e.text)},classes:v}),k.map((function(t,a){return e.createElement("div",{key:a,className:v.dialogItem},e.createElement("div",{className:v.dialogItemQuestion},t.question),e.createElement("div",{className:v.dialogItemAnswer},"LOADING"===t.answer?e.createElement(n,null):t.answer))}))),e.createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.promptInput.value;O(k.concat([{question:t,answer:"LOADING"}])),f&&f(t),L.current&&L.current.scrollTo(0,L.current.scrollHeight),e.currentTarget.reset()}},e.createElement("div",{className:v.actionBar},e.createElement("input",{placeholder:y,type:"text",id:"promptInput",className:v.input,value:d,"aria-label":"Chat input",onChange:function(e){return B(e.target.value)},onFocus:function(e){return e.target.select()}}),e.createElement("button",{type:"submit","aria-label":"Send message",disabled:""===D,className:v.submit},s)))):e.createElement("div",{className:v.closedChatWrapper,style:C?{position:C?"fixed":"unset",bottom:"24px",right:"24px"}:{}},e.createElement("a",{className:v.closedChat,onClick:function(){return A(!0)}},w||""))},exports.standardClasses=c;
